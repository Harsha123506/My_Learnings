Difference between DELETE vs TRUNCATE vs DROP
execute each row individually, removes the table data but keeps the structure, removes the table and its structure

What are ACID properties? Explain with examples
Atomicity, Consistency, Isolation, Durability
1> Atomicity: All operations in a transaction are completed successfully or none are applied. Example: Transferring money between bank accounts.
2> Consistency: A transaction brings the database from one valid state to another, maintaining database rules. Example: Ensuring foreign key constraints are not violated.
3> Isolation: Transactions are isolated from each other until they are completed. Example: Two transactions updating the same record will not interfere with each other.
4> Durability: Once a transaction is committed, it remains so, even in the event of a system failure. Example: After a successful bank transfer, the changes persist even if the system crashes.

Explain normalization vs denormalization
normalization is the process of organizing data to minimize redundancy and improve data integrity by dividing large tables into smaller, related tables. Denormalization is the process of combining tables to reduce the number of joins and improve read performance, often at the cost of increased redundancy.
denormalization is used in read-heavy applications where performance is critical, while normalization is preferred in write-heavy applications to maintain data integrity.

What is a candidate key, composite key, surrogate key?
Unique not null, combination of columns,Artificaial generated by machine.

Difference between WHERE vs HAVING
before group by ,doesnt consist aggregates.

Difference between UNION vs UNION ALL
duplicates

Difference between CHAR vs VARCHAR
size fixed

What is NULL? How is it handled in comparisons?
represents absence of the value
is NUll, is Not Null

Explain constraints (PK, FK, UNIQUE, CHECK)
PK : Not Null , Unique make sure each record is unique
FK : Referential integrity between tables
FOREIGN KEY (UserId)
REFERENCES Users(UserId)  //to delete the child record in respect to parent record
ON DELETE CASCADE
UNIQUE : ensures all values in a column are different
CHECK : ensures that all values in a column satisfy a specific condition  Check (age >= 18)

What are views? Are they stored physically?
its a virtual table based on the result-set of an SQL statement. They do not store data physically.

🔹 Joins (Very Important)

Difference between INNER, LEFT, RIGHT, FULL JOIN

include common rows, left table all rows, right table all rows, both tables all rows

What is a self join? Give a real use case
A self join is a join where a table is joined with itself. It is useful for hierarchical data or when comparing rows within the same table. For example, in an employees table, you can use a self join to find employees and their managers.

Difference between JOIN vs SUBQUERY
JOIN combines rows from two or more tables based on a related column, while a subquery is a query nested inside another query that provides results to the outer query.

How do joins behave with NULL values?
inner jin exclude null,left join include left nulls,right join include right nulls,full join include both nulls

Explain cross join and where it is used
combines all rows of 2 tables.

How do you find records in table A not in table B?
select * from table A left join table B on A.Id = B.Id where B.id is null

Example:

SELECT *
FROM employees e
LEFT JOIN salaries s ON e.id = s.emp_id
WHERE s.emp_id IS NULL;

🔹 Indexing & Performance (Must Know)

What is an index? How does it work internally?
it allows to find rows quickly, root Node Find -- traverse left r right -- find leaf nodes

Difference between clustered vs non-clustered index
leaf node store phisycal table data, stores references to table data.
only one per table

When not to use an index?
1> for small tables
2> changing columns 
3> columns with more fixed common values. Use combinations instead

How many clustered indexes can a table have and why?
only one, because only one physical data is available. clustered indexes defines how the data stored in disk.

What is a covering index?

How to identify slow queries?

Difference between B-Tree vs Hash index

What happens to indexes on INSERT/UPDATE/DELETE?

🔹 Advanced SQL (Expected at 6 Years)

What are window functions?

Difference between RANK(), DENSE_RANK(), ROW_NUMBER()
assign dif val for duplicates,same but wont skip count after ties, same but skip count after ties, 

Use case of PARTITION BY
ROW_NUMBER() OVER (PARTITION BY Department ORDER BY Salary DESC)

What is CTE (WITH clause)?
used as reusable query in several places.

Recursive CTE use cases
WITH EmployeeHierarchy AS
(
    SELECT EmployeeId, ManagerId, EmployeeName, 0 AS Level
    FROM Employees
    WHERE ManagerId IS NULL -- top-level manager

    UNION ALL

    SELECT e.EmployeeId, e.ManagerId, e.EmployeeName, h.Level + 1
    FROM Employees e
    INNER JOIN EmployeeHierarchy h
    ON e.ManagerId = h.EmployeeId
)
SELECT *
FROM EmployeeHierarchy;


Difference between CTE vs Subquery vs Temp Table
use in same query multiple times,single time, multiple queries within session.
not indexed, no , indexed

What are stored procedures vs functions?
stores both input and output params,
executes crud on db, for computations,
can have func inside,cannot have sp

What is MERGE statement?
MERGE INTO TargetTable AS T
USING SourceTable AS S
ON T.KeyColumn = S.KeyColumn
WHEN MATCHED THEN
    UPDATE SET T.Column1 = S.Column1,
               T.Column2 = S.Column2
WHEN NOT MATCHED BY TARGET THEN
    INSERT (KeyColumn, Column1, Column2)
    VALUES (S.KeyColumn, S.Column1, S.Column2)
WHEN NOT MATCHED BY SOURCE THEN
    DELETE;  -- optional

🔹 Transactions & Concurrency

What is a transaction?

all sequence of queries execute as single unit of work

Explain commit vs rollback

What are isolation levels?
How visible the changes in onr trans visible to Other.

Read Uncommitted
can read changes of uncommitable 

Read Committed

Repeatable Read

Serializable

What are dirty reads, non-repeatable reads, phantom reads?
read uncommited data, changing reflects , inserts reflects 

What is deadlock? How do you handle it?

exceptions ::
raiseExceptionerror(number , Message);
throw number , mesage
signal sqlstate number set message_text = "kas"



🔹 Query Writing (Hands-On Questions)

Find second highest salary

Find duplicate records

Delete duplicate rows without losing one

Find employees who earn more than their manager

Fetch Nth highest salary

Get top 3 salaries per department

Swap column values without temp variable

Example – Second Highest Salary:

SELECT MAX(salary)
FROM employees
WHERE salary < (SELECT MAX(salary) FROM employees);

🔹 Database Design & Real-World Scenarios

Design a banking / e-commerce / order management schema

How do you handle soft deletes?

How do you store audit logs?

How to design tables for high read vs high write systems?

How would you optimize a query running slow in production?

How do you handle data migrations?

//🔹 SQL vs NoSQL (Often Asked)

When would you choose SQL over NoSQL?

How do transactions differ in SQL vs NoSQL?

Explain eventual consistency



🔹 Behavioral + Scenario Questions


Describe a production issue caused by SQL and how you fixed it

How do you ensure data consistency across services?

Have you ever optimized a query? What was the impact?

How do you review SQL written by juniors?

⭐ Interview Tip for 6+ Years

At this level, interviewers expect:

Performance tuning knowledge

Clean, readable SQL

Real-world tradeoffs

Ability to explain execution plans